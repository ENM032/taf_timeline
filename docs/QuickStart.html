<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>TaF Timeline — Quick Start</title>
  <style>
    body { font-family: -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 24px; }
    h1 { font-size: 20px; margin: 0 0 8px; }
    h2 { font-size: 16px; margin: 16px 0 6px; }
    p, li, code { font-size: 12px; }
    ul { margin: 6px 0 12px; }
    .section { margin-bottom: 12px; }
    code { background: #f5f5f5; padding: 2px 4px; border-radius: 3px; }
  </style>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  <h1>TaF Timeline — Quick Start</h1>
  <div class="section">
    <p>TaF = "That's a Fact". TaF Timeline is a lightweight REST API that serves curated facts for specific months and days, backed by SQLite.</p>
  </div>
  <div class="section">
    <h2>Install (Windows)</h2>
    <ul>
      <li><code>choco install temurin</code></li>
      <li><code>choco install maven</code></li>
      <li><code>choco install gradle</code> (optional)</li>
    </ul>
  </div>
  <div class="section">
    <h2>Build & Run</h2>
    <ul>
      <li><code>mvn -q test</code></li>
      <li><code>mvn -q -DskipTests package</code></li>
      <li><code>java -jar target/taf-timeline-0.1.0.jar</code></li>
    </ul>
    <p>Default: port <code>8080</code>, DB <code>jdbc:sqlite:var/db/timeline.db</code>. Configure via env: <code>PORT</code>, <code>DB_URL</code>.</p>
  </div>
  <div class="section">
    <h2>Key Endpoints</h2>
    <ul>
      <li><code>GET /health</code>, <code>GET /ready</code></li>
      <li><code>GET /api/facts?year=&amp;month=</code></li>
      <li><code>GET /api/facts/{id}</code></li>
      <li><code>POST /api/facts</code> (JSON)</li>
      <li><code>PUT /api/facts/{id}</code>, <code>DELETE /api/facts/{id}</code></li>
      <li><code>GET /api/facts/on?date=YYYY-MM-DD</code></li>
      <li><code>GET /api/facts/random?year=&amp;month=</code></li>
      <li><code>GET /api/facts/search?year=&amp;month=&amp;category=&amp;q=&amp;page=&amp;size=&amp;sort=</code></li>
    </ul>
  </div>
  <div class="section">
    <h2>Usage Examples</h2>
    <ul>
      <li>Health: <code>curl http://localhost:8080/health</code></li>
      <li>Month facts: <code>curl "http://localhost:8080/api/facts?year=2024&amp;month=1"</code></li>
      <li>Create: <code>curl -X POST http://localhost:8080/api/facts -H "Content-Type: application/json" -d '{"eventDate":"2024-01-15","title":"A neat January fact","summary":"Something cool in Jan 2024","category":"current","sourceUrl":"https://example.com"}'</code></li>
      <li>Random: <code>curl "http://localhost:8080/api/facts/random?year=2024&amp;month=1"</code></li>
      <li>Search: <code>curl "http://localhost:8080/api/facts/search?year=2024&amp;month=1&amp;q=mars&amp;page=0&amp;size=10&amp;sort=event_date,asc"</code></li>
      <li>Gzip check: <code>curl -H "Accept-Encoding: gzip" -I "http://localhost:8080/api/facts?year=2024&amp;month=1"</code></li>
    </ul>
  </div>
  <div class="section">
    <h2>Notes</h2>
    <ul>
      <li>Env controls: request size (<code>REQUEST_MAX_BYTES</code>), rate limit (<code>RATE_LIMIT_PER_MIN</code>, <code>RATE_LIMIT_WINDOW_MS</code>), gzip threshold (<code>GZIP_MIN_BYTES</code>).</li>
      <li>Validation: title max (<code>FACT_TITLE_MAX</code>), summary max (<code>FACT_SUMMARY_MAX</code>), categories (<code>FACT_CATEGORIES</code>).</li>
    </ul>
  </div>
</body>
</html>